@page "/AddAdult"
@using BlazorAssignment.Models
@using BlazorAssignment.Data
@inject IAdultsData InjectedAdultData
@inject NavigationManager NavigationManager

<h3>AddAdult</h3>

<!--<AuthorizeView Policy="MustBeAdministrator" >
    <ChildContent Context="another_name">-->
        <EditForm Model="@newAdultItem" OnValidSubmit="@AddNewAdult"> 
            <DataAnnotationsValidator/>
            <ValidationSummary/>
            <div class="form-group">Job title<br/>
                    <InputTextArea @bind-Value="newAdultItem.JobPosition.JobTitle"/>
                </div>
        
                <div class="form-group">Salary<br/>
                    <InputNumber @bind-Value="newAdultItem.JobPosition.Salary"/>
                </div>
        
                <div class="form-group">ID <br/>
                    <InputNumber @bind-Value="newAdultItem.Id"/>
                </div>
        
                <div class="form-group">Firstname<br/>
                    <InputTextArea @bind-Value="newAdultItem.FirstName"/>
                </div>
        
                <div class="form-group">Lastname<br/>
                    <InputTextArea @bind-Value="newAdultItem.LastName"/>
                </div>
        
                <div class="form-group">Haircolor<br/>
                    <InputTextArea @bind-Value="newAdultItem.HairColor"/>
                </div>
        
                <div class="form-group">Eyecolor<br/>
                    <InputTextArea @bind-Value="newAdultItem.EyeColor"/>
                </div>
        
                <div class="form-group">Age<br/>
                    <InputNumber @bind-Value="newAdultItem.Age"/>
                </div>
        
                <div class="form-group">Weight<br/>
                    <InputNumber @bind-Value="newAdultItem.Weight"/>
                </div>
        
                <div class="form-group">Height<br/>
                    <InputNumber @bind-Value="newAdultItem.Height"/>
                </div>
        
                <div class="form-group">Sex <br/>
                    <InputTextArea @bind-Value="newAdultItem.Sex"/>
                </div>
        
            <p class="actions">
                <button class="btn btn-outline-dark" type="submit">Create</button>
            </p>
            
        </EditForm>

  <!--  </ChildContent>

</AuthorizeView>-->
@code {
    private Adult newAdultItem = new Adult();

    private void AddNewAdult()
    {
        InjectedAdultData.AddAdultAsync(newAdultItem);
        NavigationManager.NavigateTo("/Adults");
    }
}